Services
--Catolog.API => 5031 (http://localhost:5031/swagger/index.html)
--Identity.API => http://localhost:5001
--PhotoStock.API => http://localhost:5140
--Basket.API => http://localhost:5286
--Discount.API => http://localhost:5182
--Order.API => http://localhost:5041
--Payment.API => http://localhost:5104
--Web => http://localhost:5141

Identiy Server 4 Templates
- https://github.com/IdentityServer/IdentityServer4.Templates
- install edebilmek için dotnet new -i identityserver4.templates
- template install edildikten sonra kurulacak olan klasör içerisinde dotnet new is4aspid --name Base.Microservices.IdentityServer komutu çalýþtýrýlabilir 
- Solition içerisinde bir IdentityServer klasörü açýlýr ve Add Existing proje ile oluþan tempale identity server projesi seçilerek eklenmesi saðlanýr. 

Identity Server ile kullanýlacak yöntemler
Client credentials-> client id / client secret bilgieri asp.mvc -> identity server 
Resource owner credentials -> client id /client secret /email / password bilgileri asp.mvc -> identity server
Catolog.Api--> Client 
PhotoStock.Api -> Client 

Identity Server Üzerinden Client Token Alma
https://identityserver4.readthedocs.io/en/latest/endpoints/token.html adresindeki dokumandan yaralanýlýr. 
https://localhost:5001/.well-known/openid-configuration idserver kapsamýndaki adreslere eriþim
https://localhost:5001/connect/token -> servisine giderek client_id client_secret grant_type body alanýnda belirtilerek configte yer alan deðerlerimiz ve client_credentials grant type ile client için token alabiliriz. 

User Signup Ýþlemi
https://localhost:5001/api/user/signup endpoint kullanýlýr
body alaný json : 
{
    "UserName":"muratkondupost",
    "Email":"murat.kondu.mk@hotmail.com",
    "Password":"7HaKiqi=U=",
    "City":"Berlin"
}
https://localhost:5001/connect/token adresinden client token alýnýr alýnan token api/user/signup endpoint oauth2.0 token olarak kullanýlýp istek atýldýðýnda isgnup iþlemi gerçekleþir 



--POSTGRE SQL üzerinde tablo oluþturma scripti
create table Discount(
Id serial primary key,
UserId varchar(100) unique not null,
Rate smallint not null,
Code varchar(30) not null,
CreatedDate timestamp not null default CURRENT_TIMESTAMP
)

dbeaver üzerinde tablo oluþturmak için bu kullanýlmaktadýr. 
